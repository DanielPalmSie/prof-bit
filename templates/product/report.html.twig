{# templates/product/report.html.twig #}
{% extends 'base.html.twig' %}

{% block body %}
    <h1 class="mb-4">Product Report</h1>

    <div class="mb-3">
        <a href="{{ path('product_list') }}" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Назад</a>
    </div>

    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
        <tr>
            <th>Code</th>
            <th>Total Products</th>
            <th>Total Price</th>
            <th>Type-1</th>
            <th>Type-2</th>
            <th>Type-3</th>
        </tr>
        </thead>
        <tbody>
        {% for code, data in report %}
            <tr>
                <td>{{ code }}</td>
                <td>{{ data.total_count }}</td>
                <td>{{ data.total_price|number_format(2) }}</td>
                <td>{{ data.type_1_count }} - {{ data.type_1_price|number_format(2) }}</td>
                <td>{{ data.type_2_count }} - {{ data.type_2_price|number_format(2) }}</td>
                <td>{{ data.type_3_count }} - {{ data.type_3_price|number_format(2) }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
